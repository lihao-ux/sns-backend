<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.employee.mapper.EmployeeMapper">
    
    <resultMap type="Employee" id="EmployeeResult">
        <result property="employeeId"    column="employee_id"    />
        <result property="employeeName"    column="employee_name"    />
        <result property="employeeGender"    column="employee_gender"    />
        <result property="employeeWorkStatus"    column="employee_work_status"    />
        <result property="employeeAge"    column="employee_age"    />
        <result property="employeeJapaneseLevel"    column="employee_japanese_level"    />
        <result property="employeeMail"    column="employee_mail"    />
        <result property="employeeBirthday"    column="employee_birthday"    />
        <result property="employeeWorkExperience"    column="employee_work_experience"    />
        <result property="employeeEvent"    column="employee_event"    />
    </resultMap>

    <sql id="selectEmployeeVo">
        select employee_id, employee_name, employee_gender, employee_work_status, employee_age, employee_japanese_level, employee_mail, employee_birthday, employee_work_experience, employee_event from employee
    </sql>

    <select id="selectEmployeeList" parameterType="Employee" resultMap="EmployeeResult">
        <include refid="selectEmployeeVo"/>
        <where>  
            <if test="employeeName != null  and employeeName != ''"> and employee_name like concat('%', #{employeeName}, '%')</if>
            <if test="employeeWorkStatus != null  and employeeWorkStatus != ''"> and employee_work_status = #{employeeWorkStatus}</if>
            <if test="employeeJapaneseLevel != null  and employeeJapaneseLevel != ''"> and employee_japanese_level = #{employeeJapaneseLevel}</if>
            <if test="employeeEvent != null  and employeeEvent != ''"> and employee_event like concat('%', #{employeeEvent}, '%')</if>
        </where>
    </select>
    
    <select id="selectEmployeeByEmployeeId" parameterType="Long" resultMap="EmployeeResult">
        <include refid="selectEmployeeVo"/>
        where employee_id = #{employeeId}
    </select>

    <insert id="insertEmployee" parameterType="Employee" useGeneratedKeys="true" keyProperty="employeeId">
        insert into employee
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="employeeName != null and employeeName != ''">employee_name,</if>
            <if test="employeeGender != null and employeeGender != ''">employee_gender,</if>
            <if test="employeeWorkStatus != null and employeeWorkStatus != ''">employee_work_status,</if>
            <if test="employeeAge != null">employee_age,</if>
            <if test="employeeJapaneseLevel != null">employee_japanese_level,</if>
            <if test="employeeMail != null">employee_mail,</if>
            <if test="employeeBirthday != null">employee_birthday,</if>
            <if test="employeeWorkExperience != null">employee_work_experience,</if>
            <if test="employeeEvent != null">employee_event,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="employeeName != null and employeeName != ''">#{employeeName},</if>
            <if test="employeeGender != null and employeeGender != ''">#{employeeGender},</if>
            <if test="employeeWorkStatus != null and employeeWorkStatus != ''">#{employeeWorkStatus},</if>
            <if test="employeeAge != null">#{employeeAge},</if>
            <if test="employeeJapaneseLevel != null">#{employeeJapaneseLevel},</if>
            <if test="employeeMail != null">#{employeeMail},</if>
            <if test="employeeBirthday != null">#{employeeBirthday},</if>
            <if test="employeeWorkExperience != null">#{employeeWorkExperience},</if>
            <if test="employeeEvent != null">#{employeeEvent},</if>
         </trim>
    </insert>

    <update id="updateEmployee" parameterType="Employee">
        update employee
        <trim prefix="SET" suffixOverrides=",">
            <if test="employeeName != null and employeeName != ''">employee_name = #{employeeName},</if>
            <if test="employeeGender != null and employeeGender != ''">employee_gender = #{employeeGender},</if>
            <if test="employeeWorkStatus != null and employeeWorkStatus != ''">employee_work_status = #{employeeWorkStatus},</if>
            <if test="employeeAge != null">employee_age = #{employeeAge},</if>
            <if test="employeeJapaneseLevel != null">employee_japanese_level = #{employeeJapaneseLevel},</if>
            <if test="employeeMail != null">employee_mail = #{employeeMail},</if>
            <if test="employeeBirthday != null">employee_birthday = #{employeeBirthday},</if>
            <if test="employeeWorkExperience != null">employee_work_experience = #{employeeWorkExperience},</if>
            <if test="employeeEvent != null">employee_event = #{employeeEvent},</if>
        </trim>
        where employee_id = #{employeeId}
    </update>

    <delete id="deleteEmployeeByEmployeeId" parameterType="Long">
        delete from employee where employee_id = #{employeeId}
    </delete>

    <delete id="deleteEmployeeByEmployeeIds" parameterType="String">
        delete from employee where employee_id in 
        <foreach item="employeeId" collection="array" open="(" separator="," close=")">
            #{employeeId}
        </foreach>
    </delete>
</mapper>